 操作系统面试题（一）
===

1. **进程**

   - 定义：是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位。 （操作系统书上的定义）。

   - 特性：动态、独立、并发、异步。

   - 状态：

     ![三种基本状态](https://img-blog.csdn.net/20170627102104930)

   - 进程同步机制：空闲让进、忙则等待、有限等待、让权等待。

   - 与程序的区别：

     1. 程序是指令和数据的有序集合，其本身没有任何运行的含义，是一个静态的概念。 
     2. 进程则是在处理机上的一次执行过程，它是一个动态的概念。

   - （IPC）进程间通信：共享内存、消息队列、管道（无名、命名）、信号量。

2. **线程**：

   - 定义：
     1. 通常在一个进程中可以包含若干个线程。
     2. 线程可以利用进程所拥有的资源。
     3. 线程是独立运行和独立调度的基本单位。

   - 与进程区别：
     1. 进程有独立的地址空间，线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间。
     2. 进程是资源分配的基本单位，线程是CPU调度的基本单位，所有的线程共享其所属进程的所有资源与代码。
     3. 一个进程可以拥有多个线程，而一个线程同时只能被一个进程所拥有。
     4. 线程执行开销小，但不利于资源的管理和保护；而进程正相反。
     5. 线程适合于在SMP(多核处理机)机器上运行，而进程则可以跨机器迁移。
   - 同步方式：临界区、事件、互斥量、信号量。
   - 生命周期：创建、就绪、运行、阻塞、死亡。

3. **操作系统特性**：并发、共享、虚拟、异步。

4. **死锁**：

   - 定义：指多个进程因竞争共享资源而造成的一种僵局，若无外力作用，这些进程都将永远不能再 向前推进。
   - 产生原因：竞争系统资源、进程推进顺序非法。
   - 产生死锁必要条件：互斥条件、请求和保持条件、不剥夺条件、循环等待条件。
   - 解决方法：预防、避免（银行家算法）、检测（资源分配表）、解除（剥夺资源、撤销进程）。

5. **生产者消费者问题**：

   ```java
   semaphore mutex=1; //临界区互斥信号量
   semaphore empty=n;  //空闲缓冲区
   semaphore full=0;  //缓冲区初始化为空
   producer ()//生产者进程 
   {
       while(1)
       {
           produce an item in nextp;  //生产数据
           P(empty);  //获取空缓冲区单元
           P(mutex);  //进入临界区.
           add nextp to buffer;  //将数据放入缓冲区
           V(mutex);  //离开临界区,释放互斥信号量
           V(full);  //满缓冲区数加1
       }
   }



   consumer ()//消费者进程
   {
       while(1)
       {
           P(full);  //获取满缓冲区单元
           P(mutex);  // 进入临界区
           remove an item from buffer;  //从缓冲区中取出数据
           V (mutex);  //离开临界区，释放互斥信号量
           V (empty) ;  //空缓冲区数加1
           consume the item;  //消费数据
       }
   }
   ```

   